{"version":3,"file":"commonHelpers.js","sources":["../src/img/javascript.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__90c1298d__\"","\n\n// Якщо імейл і пароль користувача збігаються, зберігай дані з форми при сабміті\n// у локальне сховище і змінюй кнопку Login на Logout і роби поля введення\n// недоступними для змін.\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити Logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці Logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport icon from \"./img/javascript.svg\";\n// повідомляти про помилку.\nconst USER_DATA = {\n    email: \"user@mail.com\",\n    password: \"secret\",\n};\nconst formEl = document.querySelector(\".login-form\");\nconst buttonEl = document.querySelector(\".login-btn\");\nconst inputEmail = document.querySelector(\"[name='email']\");\nconst inputPassword = document.querySelector(\"[name='password']\");\nformEl.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    if (buttonEl.textContent === 'Logout') {\n        buttonEl.textContent = 'Login';\n        localStorage.removeItem(\"userData\");\n        formEl.reset();\n        inputEmail.removeAttribute('readonly');\n        inputPassword.removeAttribute('readonly');\n        return\n\n    }\n\n    if (inputEmail.value.trim() === \"\" || inputPassword.value.trim() === \"\") {\n        // alert(\"Заповніть всі поля\");\n        iziToast.warning({\n            message: \"Заповніть всі поля\",\n            iconUrl: icon,\n        });\n        return;\n    }\n    if (inputEmail.value !== USER_DATA.email || inputPassword.value !== USER_DATA.password) {\n        // alert(\"Дані не вірні\")\n        iziToast.error({\n\n            message: \"Дані не вірні\",\n        });\n\n        return;\n    }\n    iziToast.success({\n        message: \"All ok your login!\",\n    });\n    const userLocalStoreg = {\n        email: inputEmail.value,\n        password: inputPassword.value,\n    }\n    localStorage.setItem('userData', JSON.stringify(userLocalStoreg));\n    buttonEl.textContent = 'Logout';\n    inputEmail.setAttribute('readonly', true);\n    inputPassword.setAttribute('readonly', true);\n\n\n})\n\nconst userDataLS = localStorage.getItem('userData');\nif (userDataLS) {\n    const userDataParsed = JSON.parse(userDataLS);\n    inputEmail.value = userDataParsed.email;\n    inputPassword.value = userDataParsed.password;\n    buttonEl.textContent = 'Logout';\n    inputEmail.setAttribute('readonly', true);\n    inputPassword.setAttribute('readonly', true);\n}\n\n// Theme switcher\n\nconst switcher = document.querySelector('.switcher-toggle');\n\nif (localStorage.getItem('theme') === 'dark') {\n\tdocument.body.classList.add('dark')\n\tdocument.body.classList.remove('light')\n\tswitcher.checked = true;\n}\n\nconst onSwitcherChange = () => {\n\tif (switcher.checked) {\n\t\tdocument.body.classList.add('dark')\n\t\tdocument.body.classList.remove('light')\n\t\tlocalStorage.setItem('theme', 'dark');\n\t} else {\n\t\tdocument.body.classList.remove('dark')\n\t\tdocument.body.classList.add('light')\n\t\tlocalStorage.setItem('theme', 'light');\n\t}\n}\n\nswitcher.addEventListener('change', onSwitcherChange)"],"names":["icon","USER_DATA","formEl","buttonEl","inputEmail","inputPassword","event","iziToast","userLocalStoreg","userDataLS","userDataParsed","switcher","onSwitcherChange"],"mappings":"svBAAA,MAAeA,EAAA,mDCeTC,EAAY,CACd,MAAO,gBACP,SAAU,QACd,EACMC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAa,SAAS,cAAc,gBAAgB,EACpDC,EAAgB,SAAS,cAAc,mBAAmB,EAChEH,EAAO,iBAAiB,SAAWI,GAAU,CAEzC,GADAA,EAAM,eAAc,EAChBH,EAAS,cAAgB,SAAU,CACnCA,EAAS,YAAc,QACvB,aAAa,WAAW,UAAU,EAClCD,EAAO,MAAK,EACZE,EAAW,gBAAgB,UAAU,EACrCC,EAAc,gBAAgB,UAAU,EACxC,MAEH,CAED,GAAID,EAAW,MAAM,SAAW,IAAMC,EAAc,MAAM,KAAM,IAAK,GAAI,CAErEE,EAAS,QAAQ,CACb,QAAS,qBACT,QAASP,CACrB,CAAS,EACD,MACH,CACD,GAAII,EAAW,QAAUH,EAAU,OAASI,EAAc,QAAUJ,EAAU,SAAU,CAEpFM,EAAS,MAAM,CAEX,QAAS,eACrB,CAAS,EAED,MACH,CACDA,EAAS,QAAQ,CACb,QAAS,oBACjB,CAAK,EACD,MAAMC,EAAkB,CACpB,MAAOJ,EAAW,MAClB,SAAUC,EAAc,KAC3B,EACD,aAAa,QAAQ,WAAY,KAAK,UAAUG,CAAe,CAAC,EAChEL,EAAS,YAAc,SACvBC,EAAW,aAAa,WAAY,EAAI,EACxCC,EAAc,aAAa,WAAY,EAAI,CAG/C,CAAC,EAED,MAAMI,EAAa,aAAa,QAAQ,UAAU,EAClD,GAAIA,EAAY,CACZ,MAAMC,EAAiB,KAAK,MAAMD,CAAU,EAC5CL,EAAW,MAAQM,EAAe,MAClCL,EAAc,MAAQK,EAAe,SACrCP,EAAS,YAAc,SACvBC,EAAW,aAAa,WAAY,EAAI,EACxCC,EAAc,aAAa,WAAY,EAAI,CAC/C,CAIA,MAAMM,EAAW,SAAS,cAAc,kBAAkB,EAEtD,aAAa,QAAQ,OAAO,IAAM,SACrC,SAAS,KAAK,UAAU,IAAI,MAAM,EAClC,SAAS,KAAK,UAAU,OAAO,OAAO,EACtCA,EAAS,QAAU,IAGpB,MAAMC,EAAmB,IAAM,CAC1BD,EAAS,SACZ,SAAS,KAAK,UAAU,IAAI,MAAM,EAClC,SAAS,KAAK,UAAU,OAAO,OAAO,EACtC,aAAa,QAAQ,QAAS,MAAM,IAEpC,SAAS,KAAK,UAAU,OAAO,MAAM,EACrC,SAAS,KAAK,UAAU,IAAI,OAAO,EACnC,aAAa,QAAQ,QAAS,OAAO,EAEvC,EAEAA,EAAS,iBAAiB,SAAUC,CAAgB"}